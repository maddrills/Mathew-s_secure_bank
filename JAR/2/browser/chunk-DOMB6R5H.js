import{A as q,B as n,C as d,D as M,E as B,G as ee,H as te,J as Ce,L as ne,M as ie,N as $,O as T,P as ve,S as oe,T as xe,U as N,W as I,X as L,Y as V,Z as w,_ as H,a as K,ba as Me,c as he,ca as ae,d as W,da as re,e as Q,ea as le,fa as ce,g as A,ga as se,h as be,ha as me,i as C,ia as Oe,j as v,k as x,ka as de,l as y,m as s,n as u,o as h,p as X,q as b,r as D,s as E,t as k,u as t,v as e,w as g,x as O,y as _,z as p}from"./chunk-S5BTXPVH.js";function ke(r,c){if(r&1){let l=O();t(0,"div",13)(1,"div",14)(2,"div")(3,"h6"),n(4,"Email"),e(),t(5,"p"),n(6),e()(),t(7,"div")(8,"h6"),n(9,"Phone Number"),e(),t(10,"p"),n(11),e()(),t(12,"div")(13,"h6"),n(14,"Date Of Birth"),e(),t(15,"p"),n(16),e()(),t(17,"div")(18,"h6"),n(19,"Accept"),e(),t(20,"button",15),_("click",function(){C(l);let o=p().$implicit,a=p(2);return v(a.acceptApplication(o.applicationId))}),n(21),e()(),t(22,"div")(23,"h6"),n(24,"Reject"),e(),t(25,"button",15),_("click",function(){C(l);let o=p().$implicit,a=p(2);return v(a.rejectApplication(o.applicationId))}),n(26),e()()()()}if(r&2){let l=p().$implicit;s(6),d(l.email),s(5),d(l.phoneNumber),s(5),d(l.dateOfBirth),s(5),M(" ",l.status," "),s(5),M(" ",l.rejected," ")}}function Ae(r,c){if(r&1){let l=O();t(0,"tr",7)(1,"td")(2,"button",12),_("click",function(){let o=C(l).$index,a=p(2);return v(a.expandAssignedArea(o))}),n(3),e()(),t(4,"td"),n(5),e(),t(6,"td"),n(7),e(),t(8,"td"),n(9),e(),t(10,"td"),n(11),e(),h(12,ke,27,5,"div",13),e()}if(r&2){let l=c.$implicit,i=c.$index,o=p(2);s(3),M(" ",l.applicationId," "),s(2),d(l.fullName),s(2),d(l.appliedOn),s(2),d(l.rejected),s(2),d(l.branchId),s(),b(i===o.expand?12:-1)}}function Be(r,c){if(r&1&&(t(0,"div",5)(1,"table")(2,"tr",6)(3,"th"),n(4,"Application Id"),e(),t(5,"th"),n(6,"Full Name"),e(),t(7,"th"),n(8,"Applied On"),e(),t(9,"th"),n(10,"Status"),e(),t(11,"th"),n(12,"Branch Id"),e()(),E(13,Ae,13,6,"tr",7,D),e(),t(15,"div",8),x(),t(16,"svg",3),g(17,"path",9),e(),y(),t(18,"span"),n(19,"1"),e(),t(20,"span"),n(21,"2"),e(),t(22,"span"),n(23,"3"),e(),t(24,"div",10),n(25,"..."),e(),t(26,"span"),n(27,"10"),e(),x(),t(28,"svg",3),g(29,"path",11),e()()()),r&2){let l=p();s(13),k(l.applicationsUnderMe)}}var pe=(()=>{let c=class c{constructor(i){this.employeeService=i,this.authViewActive=!1,this.employeeUnderView=0,this.expand=-1,this.applicationsUnderMe=[],this.assignedApplication=!1,this.employeeService.authViewActive.subscribe({next:o=>{console.log("Auth under watch active"),console.log(o),this.authViewActive=o}}),this.employeeService.employeeSelected.subscribe({next:o=>this.employeeUnderView=o})}getData(){this.assignedApplication=!this.assignedApplication,console.log("Get data"),this.authViewActive?(console.log("Auth view"),this.employeeService.getAllApplicationsUnderAnyEmployee(this.employeeUnderView).subscribe({next:i=>{console.log(i.body),this.applicationsUnderMe=i.body},error:i=>{}})):this.employeeService.getAllApplicationsUnderMe().subscribe({next:i=>{console.log(i.body),this.applicationsUnderMe=i.body},error:i=>{}})}expandAssignedArea(i){this.expand=i}rejectApplication(i){if(!i)throw new Error("Method not implemented.");this.employeeService.rejectApplication(i).subscribe({next:o=>{console.log(o.body),o.body?alert("Rejection Successful"):alert("Rejection failed")},error:o=>console.log(o)})}acceptApplication(i){if(!i)throw new Error("Method not implemented.");this.employeeService.acceptApplication(i).subscribe({next:o=>{console.log(o.body),o.body?alert("User Accepting"):alert("Error Accepting User")},error:o=>console.log(o)})}};c.\u0275fac=function(o){return new(o||c)(u(w))},c.\u0275cmp=A({type:c,selectors:[["app-assigned-applications"]],standalone:!0,features:[B],decls:8,vars:1,consts:[[1,"container"],[1,"bank-application-heading"],[1,"open-up-section-common",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"],[1,"applications-data"],[1,"head","prevent-select","table-data-row"],[1,"table-data-row"],[1,"next-bubble","prevent-select"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H102.49l21.75,21.76a6,6,0,1,1-8.48,8.48l-32-32a6,6,0,0,1,0-8.48l32-32a6,6,0,0,1,8.48,8.48L102.49,122H168A6,6,0,0,1,174,128Z"],[1,"three-dotes"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-94.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L153.51,134H88a6,6,0,0,1,0-12h65.51l-21.75-21.76a6,6,0,0,1,8.48-8.48Z"],[1,"expand-application-button",3,"click"],[1,"expansion"],[1,"grid","grid--4-cols","gap-spacing"],[3,"click"]],template:function(o,a){o&1&&(t(0,"section",0)(1,"div",1)(2,"div",2),_("click",function(){return a.getData()}),t(3,"h5"),n(4,"Assigned Applications"),e(),x(),t(5,"svg",3),g(6,"path",4),e()(),h(7,Be,30,0,"div",5),e()()),o&2&&(s(7),b(a.assignedApplication?7:-1))},styles:["section[_ngcontent-%COMP%]{margin-top:2rem}.open-up-section-common[_ngcontent-%COMP%]{background-color:#5f3dc4;color:#f3f0ff;display:flex;align-items:center;padding:.4rem;gap:1rem;font-size:2.4rem;transition:all .33s}.open-up-section-common[_ngcontent-%COMP%]:hover, .open-up-section-common[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#7048e8}.bank-application-heading[_ngcontent-%COMP%]{border:solid 1px #5f3dc4;margin-bottom:2rem}.open-up-section-common[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:1rem}.open-up-section-common[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.4rem;fill:#f3f0ff}.applications-query[_ngcontent-%COMP%]{display:flex;margin-top:2rem;justify-content:center;gap:4rem}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:4rem}.button[_ngcontent-%COMP%]{align-self:flex-end}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background-color:#f3f0ff;font-size:1.4rem;color:#5f3dc4;font-weight:600;border:solid 1px #b197fc;transition:all .33s}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:pointer;border:solid 1px #f3f0ff}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.6rem;font-size:1.4rem;flex-direction:column}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem .6rem;font-size:1.6rem}.count[_ngcontent-%COMP%]{font-size:1.6rem;align-self:end}.count[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#5f3dc4;font-weight:600}.applications-data[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.2rem;display:flex;flex-direction:column}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;margin:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f3f0ff}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#5f3dc4;color:#e5dbff;font-size:1.4rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{padding:.6rem 2rem}.next-bubble[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-self:center;gap:.4rem;margin-bottom:1rem}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:50%;color:#5f3dc4;padding:1rem;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:active{cursor:pointer;color:#5f3dc4;background-color:#e5dbff;font-size:1.2rem}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.4rem;border-radius:50%;fill:#5f3dc4;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff;border-radius:50%;background-color:#5f3dc4}.three-dotes[_ngcontent-%COMP%]{align-self:center}.table-data-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr)}.expansion[_ngcontent-%COMP%]{grid-column:1/6;margin-bottom:1rem}.gap-spacing[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expansion[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:.5rem}.expansion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem}.expansion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem}.expansion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;padding:.5rem 1rem}.expand-application-button[_ngcontent-%COMP%]{border:0;border-radius:5px;padding:.5rem 1rem;color:#fff;background-image:linear-gradient(#339af0,#1864ab)}.expand-application-button[_ngcontent-%COMP%]:hover{cursor:pointer}.expand-application-button[_ngcontent-%COMP%]:active{cursor:pointer;background-image:linear-gradient(#1864ab,#339af0)}"]});let r=c;return r})();var F=(()=>{let c=class c{constructor(i){this.http=i,this.allEmployeesUnderBranch=new K(null),this.managerSubject=new K(null),this.bankBranchViewData=new K(null)}getAllBankBranches(){return this.http.get(I.LIST_ALL_BRANCHES,{observe:"response",withCredentials:!0})}creaateAbranch(i){return this.http.post(I.ADD_A_BRANCH_WITH_OR_WITHOUT_A_MANAGER,i,{observe:"response",withCredentials:!0})}findEmployeeById(i){this.http.get(I.FIND_EMPLOYEE_BY_ID,{params:new T().set("employeeId",i),observe:"response",withCredentials:!0}).subscribe({next:o=>{console.log(o.body),this.managerSubject.next(o.body)},error:o=>console.log(o)})}findEmployeeByIdWithoutSub(i){return this.http.get(I.FIND_EMPLOYEE_BY_ID,{params:new T().set("employeeId",i),observe:"response",withCredentials:!0})}findAllEmployeesUnderBranch(i){console.log("the branch is"+i),this.http.get(I.GET_ALL_EMPLOYEE_BY_UNDER_BRANCH,{params:new T().set("branchId",i),observe:"response",withCredentials:!0}).subscribe({next:o=>{console.log("GET_ALL_EMPLOYEE_BY_UNDER_BRANCH"),console.log(o.body),this.allEmployeesUnderBranch.next(o.body)},error:o=>console.log(o)})}removeManagerFrommBranch(i){return this.http.patch(I.REMOVE_MANAGER_FROM_BRANCH,null,{params:new T().set("employeeAKAManager",i),observe:"response",withCredentials:!0})}getBranchByBranchId(i){return this.http.get(I.GET_BRANCH_BY_BRANCH_ID,{params:new T().set("bankId",i),observe:"response",withCredentials:!0})}putManagerInBranch(i,o){return this.http.put(I.PUT_MANAGER_IN_BANK,null,{params:new T().set("employeeAKAManager",i).set("branchId",o),observe:"response",withCredentials:!0})}removeAClerkFromABranch(i,o){return console.log(i,o),this.http.patch(I.REMOVE_EMPLOYEE_FROM_BRANCH_Admin,null,{params:new T().set("clerkId",i).set("bankId",o),observe:"response",withCredentials:!0})}addAClerkToABranch(i,o){return console.log(i,o),this.http.put(I.PUT_CLERK_IN_BANK_ADMIN,null,{params:new T().set("clerkId",i).set("branchId",o),observe:"response",withCredentials:!0})}getEmployeesCurrentBankAccount(){return this.http.get(I.GET_CURRENT_BRANCH,{observe:"response",withCredentials:!0})}mangerRemoveSubEmployee(i){return this.http.patch(I.REMOVE_CLERK_FROM_BRANCH_MANAGER_PATCH,null,{params:new T().set("employeeClerk",i),observe:"response",withCredentials:!0})}managerAddEmployee(i){return this.http.put(I.ADD_CLERK_FROM_BRANCH_MANAGER_PUT,null,{params:new T().set("employeeClerk",i),observe:"response",withCredentials:!0})}};c.\u0275fac=function(o){return new(o||c)(Q(ve))},c.\u0275prov=W({token:c,factory:c.\u0275fac,providedIn:"root"});let r=c;return r})();function we(r,c){r&1&&(t(0,"h5"),n(1,"All Bank Applications"),e())}function Ie(r,c){if(r&1&&(t(0,"h5"),n(1),e()),r&2){let l=p(2);s(),M("Bank Applications Under : ",l.employeeData==null?null:l.employeeData.branchName,"")}}function De(r,c){if(r&1&&h(0,we,2,0,"h5")(1,Ie,2,1,"h5"),r&2){let l=p();b(l.getAllApplications?0:1)}}function Te(r,c){r&1&&(t(0,"h5"),n(1,"Bank Applications"),e())}function Ne(r,c){r&1&&(t(0,"div")(1,"label",19),n(2,"Branch Id"),e(),g(3,"input",20),e())}function Ve(r,c){if(r&1){let l=O();t(0,"button",22),_("click",function(){C(l);let o=p(3);return v(o.getAllTheApplicationsUnderBranch())}),n(1," Get Applications Under Branch "),e()}}function Fe(r,c){if(r&1){let l=O();t(0,"button",22),_("click",function(){C(l);let o=p(3);return v(o.getAllTheApplications())}),n(1," Get All Applications"),e()}}function Re(r,c){if(r&1&&(t(0,"div",11),h(1,Ve,2,0,"button",21)(2,Fe,2,0,"button",21),e()),r&2){let l=p(2);s(),b(l.getAllApplications?1:2)}}function ze(r,c){if(r&1){let l=O();t(0,"button",26),_("click",function(){C(l);let o=p(2).$implicit,a=p(2);return v(a.jumpToEmployee(o.assignedTo))}),n(1),e()}if(r&2){let l=p(2).$implicit;s(),M(" ",l.assignedTo,"(Manager) ")}}function Ue(r,c){if(r&1){let l=O();t(0,"button",26),_("click",function(){C(l);let o=p(2).$implicit,a=p(2);return v(a.jumpToEmployee(o.assignedTo))}),n(1),e()}if(r&2){let l=p(2).$implicit;s(),M(" ",l.assignedTo," ")}}function je(r,c){if(r&1){let l=O();t(0,"div")(1,"h6"),n(2,"Assign To:"),e(),t(3,"button",26),_("click",function(){C(l);let o=p(2),a=o.$implicit,m=o.$index,f=p(2);return v(f.reAssignTo(a.applicationId,m))}),n(4),t(5,"span"),n(6),e()()()}if(r&2){let l=p(4);s(4),M(" ",l.employeeData==null?null:l.employeeData.full_name," "),s(2),M("(",l.employeeData==null?null:l.employeeData.empId,")")}}function Ge(r,c){r&1&&(t(0,"p"),n(1," Note you can only transfer an application to another employee under a branch "),e())}function $e(r,c){r&1&&(t(0,"p",27),n(1,"Error While Reassigning"),e())}function Le(r,c){r&1&&(t(0,"p",28),n(1,"Transfer Success"),e())}function He(r,c){if(r&1){let l=O();t(0,"div",24)(1,"div",25)(2,"div")(3,"h6"),n(4,"Email"),e(),t(5,"p"),n(6),e()(),t(7,"div")(8,"h6"),n(9,"Phone Number"),e(),t(10,"p"),n(11),e()(),t(12,"div")(13,"h6"),n(14,"Date Of Birth"),e(),t(15,"p"),n(16),e()(),t(17,"div")(18,"h6"),n(19,"Assigned to:"),e(),h(20,ze,2,1,"button")(21,Ue,2,1,"button"),e(),h(22,je,7,2,"div"),t(23,"div")(24,"h6"),n(25,"Accept"),e(),t(26,"button",26),_("click",function(){C(l);let o=p(),a=o.$implicit,m=o.$index,f=p(2);return v(f.acceptApplicationMethod(a.applicationId,m))}),n(27),e()(),t(28,"div")(29,"h6"),n(30,"Reject"),e(),t(31,"button",26),_("click",function(){C(l);let o=p(),a=o.$implicit,m=o.$index,f=p(2);return v(f.rejectApplicationMethod(a.applicationId,m))}),n(32),e()(),t(33,"div")(34,"h6"),n(35,"Change Caused by"),e(),t(36,"button",26),_("click",function(){C(l);let o=p().$implicit,a=p(2);return v(a.jumpToEmployee(o.approvedBy))}),n(37),e()(),t(38,"div")(39,"h6"),n(40,"Created Employee"),e(),t(41,"button"),n(42),e()()(),t(43,"div"),h(44,Ge,2,0,"p")(45,$e,2,0,"p",27)(46,Le,2,0,"p",28),e()()}if(r&2){let l=p().$implicit,i=p(2);s(6),d(l.email),s(5),d(l.phoneNumber),s(5),d(l.dateOfBirth),s(4),b(l.assignedTo==(i.employeeData==null?null:i.employeeData.reportsTo)?20:21),s(2),b(i.subEmployeeActive?22:-1),s(5),M(" ",l.status," "),s(5),M(" ",l.rejected," "),s(5),M(" ",l.approvedBy," "),s(5),d(l.createdUser),s(2),b(i.subEmployeeActive?44:-1),s(),b(i.transferError?45:-1),s(),b(i.transferDone?46:-1)}}function Ze(r,c){if(r&1){let l=O();t(0,"tr",14)(1,"td")(2,"button",23),_("click",function(){let o=C(l).$index,a=p(2);return v(a.expandAssignedArea(o))}),n(3),e()(),t(4,"td"),n(5),e(),t(6,"td"),n(7),e(),t(8,"td"),n(9),e(),t(10,"td"),n(11),e(),h(12,He,47,12,"div",24),e()}if(r&2){let l=c.$implicit,i=c.$index,o=p(2);s(3),M(" ",l.applicationId," "),s(2),d(l.fullName),s(2),d(l.appliedOn),s(2),d(l.rejected),s(2),d(l.branchId),s(),b(i===o.expand?12:-1)}}function qe(r,c){if(r&1&&(t(0,"div",5)(1,"form")(2,"div")(3,"label",6),n(4,"Find by Phone or Email"),e(),g(5,"input",7),e(),h(6,Ne,4,0,"div"),t(7,"div",8)(8,"button"),n(9,"Look up"),e()()(),t(10,"div",9)(11,"span"),n(12,"count "),e(),t(13,"span",10),n(14,"55"),e()(),h(15,Re,3,1,"div",11),e(),t(16,"div",12)(17,"table")(18,"tr",13)(19,"th"),n(20,"Application Id"),e(),t(21,"th"),n(22,"Full Name"),e(),t(23,"th"),n(24,"Applied On"),e(),t(25,"th"),n(26,"Status"),e(),t(27,"th"),n(28,"Branch Id"),e()(),E(29,Ze,13,6,"tr",14,D),e(),t(31,"div",15),x(),t(32,"svg",3),g(33,"path",16),e(),y(),t(34,"span"),n(35,"1"),e(),t(36,"span"),n(37,"2"),e(),t(38,"span"),n(39,"3"),e(),t(40,"div",17),n(41,"..."),e(),t(42,"span"),n(43,"10"),e(),x(),t(44,"svg",3),g(45,"path",18),e()()()),r&2){let l=p();s(6),b(l.subEmployeeActive?6:-1),s(9),b(l.subEmployeeActive?15:-1),s(14),k(l.applications)}}var Z=(()=>{let c=class c{constructor(i,o,a){this.employeeService=i,this.bankService=o,this.router=a,this.applications=[],this.expand=-1,this.employeeUnderView=-1,this.employeeData=null,this.subEmployeeActive=!1,this.getAllApplications=!1,this.transferError=!1,this.transferDone=!1,this.bankDataView=null,this.bankApplicationUnder=!1,i.authViewActive.subscribe({next:m=>this.subEmployeeActive=m}),this.employeeService.employeeSelected.subscribe({next:m=>this.employeeUnderView=m}),this.bankService.bankBranchViewData.subscribe({next:m=>{this.bankDataView=m}}),this.employeeData=JSON.parse(localStorage.getItem("selectedEmployee"))}getData(){if(this.bankApplicationUnder=!this.bankApplicationUnder,this.subEmployeeActive&&!this.getAllApplications){if(console.log(this.employeeUnderView),!this.employeeData?.branchId)return;this.employeeService.getAllApplicationsUnderAnyBranch(this.employeeData?.branchId).subscribe({next:i=>{console.log(i.body),this.applications=i.body,this.getAllApplications=!1},error:i=>{console.log(i)}});return}if(console.log(this.bankDataView),this.bankDataView!=null){this.employeeService.getAllApplicationsUnderAnyBranch(this.bankDataView.branchId).subscribe({next:i=>{console.log(i.body),this.applications=i.body,this.getAllApplications=!1},error:i=>{console.log(i)}});return}console.log("Get data"),this.employeeService.fetchAllUserApplications().subscribe({next:i=>{console.log(i.body),this.applications=i.body},error:i=>{}})}expandAssignedArea(i){this.expand=i,this.transferError=!1,this.transferDone=!1}getAllTheApplications(){this.getAllApplications=!0,this.getData()}getAllTheApplicationsUnderBranch(){this.getAllApplications=!1,this.getData()}reAssignTo(i,o){if(i==null||i<0)throw new Error("Method not implemented.");this.employeeService.reAssignApplicationToAnother(this.employeeUnderView,i).subscribe({next:a=>{console.log(a.body),a.body?(this.applications[o].assignedTo=this.employeeUnderView,this.transferDone=!0):this.transferError=!0},error:a=>console.log(a)})}acceptApplicationMethod(i,o){if(i==null||i<0)throw new Error("Method not implemented.");let a=JSON.parse(localStorage.getItem("employeeData"));this.employeeService.acceptApplication(i).subscribe({next:m=>{console.log(m.body),m.body?(this.applications[o].status=!0,this.applications[o].approvedBy=a.empId,alert("User Accepting")):alert("Error Accepting User")},error:m=>console.log(m)})}rejectApplicationMethod(i,o){if(i==null||i<0)throw new Error("Method not implemented.");let a=JSON.parse(localStorage.getItem("employeeData"));this.employeeService.rejectApplication(i).subscribe({next:m=>{console.log(m.body),m.body?(this.applications[o].rejected=!0,this.applications[o].approvedBy=a.empId,alert("Rejection Successful")):alert("Rejection failed")},error:m=>console.log(m)})}jumpToEmployee(i){console.log(i),localStorage.removeItem("selectedEmployee"),this.employeeService.authViewActive.next(!0),console.log("Sub EMP id is"+i),this.employeeService.employeeSelected.next(i);let o=this.employeeService.getEmployeeByIdWithSub(i).subscribe({next:a=>{let m=a.body;this.employeeService.employeeById.next(m);let f=[];m.rolesName&&m.rolesName.forEach(P=>{f.push(P)}),this.employeeService.rolesToBeRemovedFromBackend.next(f),location.reload()},error:a=>console.log(a,"while getting an employee by id from backend")});this.router.navigate(["/employee-welcome/emp-management/sub-employee",{employeeId:i}])}};c.\u0275fac=function(o){return new(o||c)(u(w),u(F),u(N))},c.\u0275cmp=A({type:c,selectors:[["app-bank-applications"]],standalone:!0,features:[B],decls:8,vars:2,consts:[[1,"container"],[1,"bank-application-heading"],[1,"open-up-section-common",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"],[1,"applications-query"],["for","phone-or-email"],["type","text","id","phone-or-email","name",""],[1,"button"],[1,"count"],[1,"num"],[1,"button-change"],[1,"applications-data"],[1,"head","prevent-select","table-data-row"],[1,"table-data-row"],[1,"next-bubble","prevent-select"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H102.49l21.75,21.76a6,6,0,1,1-8.48,8.48l-32-32a6,6,0,0,1,0-8.48l32-32a6,6,0,0,1,8.48,8.48L102.49,122H168A6,6,0,0,1,174,128Z"],[1,"three-dotes"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-94.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L153.51,134H88a6,6,0,0,1,0-12h65.51l-21.75-21.76a6,6,0,0,1,8.48-8.48Z"],["for","branch"],["type","number","id","branch","name",""],[1,"bank-button"],[1,"bank-button",3,"click"],[1,"expand-application-button","prevent-select",3,"click"],[1,"expansion"],[1,"grid","grid--4-cols","gap-spacing"],[3,"click"],[2,"color","red"],[2,"color","green"]],template:function(o,a){o&1&&(t(0,"section",0)(1,"div",1)(2,"div",2),_("click",function(){return a.getData()}),h(3,De,2,1)(4,Te,2,0,"h5"),x(),t(5,"svg",3),g(6,"path",4),e()(),h(7,qe,46,2),e()()),o&2&&(s(3),b(a.subEmployeeActive?3:4),s(4),b(a.bankApplicationUnder?7:-1))},styles:["section[_ngcontent-%COMP%]{margin-top:2rem}.open-up-section-common[_ngcontent-%COMP%]{background-color:#5f3dc4;color:#f3f0ff;display:flex;align-items:center;padding:.4rem;gap:1rem;font-size:2.4rem;transition:all .33s}.open-up-section-common[_ngcontent-%COMP%]:hover, .open-up-section-common[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#7048e8}.bank-application-heading[_ngcontent-%COMP%]{border:solid 1px #5f3dc4}.open-up-section-common[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:1rem}.open-up-section-common[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.4rem;fill:#f3f0ff}.applications-query[_ngcontent-%COMP%]{display:flex;margin-top:2rem;justify-content:center;gap:4rem}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:4rem}.button[_ngcontent-%COMP%]{align-self:flex-end}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background-color:#f3f0ff;font-size:1.4rem;color:#5f3dc4;font-weight:600;border:solid 1px #b197fc;transition:all .33s}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:pointer;border:solid 1px #f3f0ff}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.6rem;font-size:1.4rem;flex-direction:column}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem .6rem;font-size:1.6rem}.count[_ngcontent-%COMP%]{font-size:1.6rem;align-self:end}.count[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#5f3dc4;font-weight:600}.applications-data[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.2rem;display:flex;flex-direction:column}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;margin:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f3f0ff}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#5f3dc4;color:#e5dbff;font-size:1.4rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{padding:.6rem 2rem}.next-bubble[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-self:center;gap:.4rem;margin-bottom:1rem}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:50%;color:#5f3dc4;padding:1rem;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:active{cursor:pointer;color:#5f3dc4;background-color:#e5dbff;font-size:1.2rem}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.4rem;border-radius:50%;fill:#5f3dc4;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff;border-radius:50%;background-color:#5f3dc4}.three-dotes[_ngcontent-%COMP%]{align-self:center}.table-data-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr)}.expansion[_ngcontent-%COMP%]{grid-column:1/6;margin-bottom:1rem}.gap-spacing[_ngcontent-%COMP%]{gap:1rem;padding:1rem}.expansion[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:.5rem}.expansion[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem}.expansion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem}.expansion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;padding:.5rem 1rem}.expand-application-button[_ngcontent-%COMP%]{border:0;border-radius:5px;padding:.5rem 1rem;color:#fff;background-image:linear-gradient(#339af0,#1864ab)}.expand-application-button[_ngcontent-%COMP%]:hover{cursor:pointer}.expand-application-button[_ngcontent-%COMP%]:active{cursor:pointer;background-image:linear-gradient(#1864ab,#339af0)}.bank-button[_ngcontent-%COMP%]{background-color:#f3f0ff;padding:1rem;font-size:1.6rem;color:#5f3dc4;border:solid 1px #b197fc;font-weight:700;border-radius:6px;margin-bottom:2rem;box-shadow:5px 5px 5px #00000012;transition:all .33s}.bank-button[_ngcontent-%COMP%]:hover{cursor:pointer}.bank-button[_ngcontent-%COMP%]:hover{box-shadow:0 0 #00000012}.bank-button[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#d0bfff}"]});let r=c;return r})();var Je=(r,c)=>c.roleName;function Ye(r,c){if(r&1){let l=O();t(0,"div",2)(1,"div",6),x(),t(2,"svg",3),_("click",function(){let o=C(l).$implicit,a=p();return v(a.remove(o.key))}),g(3,"path",7),e()(),y(),t(4,"div")(5,"div",8)(6,"h5"),n(7),e()()(),t(8,"div",9)(9,"p"),n(10,"For more info on what roles do click here"),e(),x(),t(11,"svg",10),g(12,"path",11)(13,"path",12),e()()()}if(r&2){let l=c.$implicit;s(7),d(l.value.roleName.slice(5))}}function Ke(r,c){if(r&1){let l=O();t(0,"li",13),_("click",function(){C(l);let o=p().$implicit,a=p(2);return v(a.addPermission(o))}),n(1),e()}if(r&2){let l=p().$implicit;s(),M(" ",l.roleName.slice(5)," ")}}function We(r,c){if(r&1&&h(0,Ke,2,1,"li"),r&2){let l=c.$implicit;b(l.added?-1:0)}}function Qe(r,c){if(r&1&&(t(0,"div",5)(1,"ul"),E(2,We,1,1,null,null,Je),e()()),r&2){let l=p();s(2),k(l.arrayOfPermissions)}}var Pe=(()=>{let c=class c{ngOnChanges(){console.log("Change detected")}constructor(i){this.employeeService=i,this.openUp=!1,this.permissionCount=0,this.permissions=new Map,this.arrayOfPermissions=[],this.subEmployee=!1,this.clickedReset=!1,this.subs=[],console.log("----Change detected Constructor--------"),this.employeeService.getAllOfficeRoles(),this.subs.push(this.employeeService.authViewActive.subscribe({next:o=>{console.log("CHANGE 1"),o?(this.subEmployee=o,this.reset(),this.employeeService.rolesToBeRemovedFromBackend.subscribe({next:a=>{this.employeeService.getAllOfficeRolesSubType().subscribe(m=>{console.log("CHANGE 2"),console.log(a),console.log(m.body),m!=null&&(this.arrayOfPermissions=m.body,console.log("CHANGE 3"),a?.forEach((f,P)=>{this.permissionCount=a.length,this.arrayOfPermissions.forEach(S=>{f.roleName==S.roleName&&(S.added=!0,this.permissions.set(P,S))})})),this.employeeService.rolesToBackend.next(this.permissions)})}})):this.employeeService.rolesFromBackend.subscribe(a=>{a!=null&&(this.arrayOfPermissions=a)})}}))}ngOnDestroy(){this.subs.forEach(i=>i.unsubscribe())}addPermission(i){this.openUp=!this.openUp,this.permissions.set(this.permissionCount++,i),i.added=!0,this.permissions.forEach((o,a,m)=>{}),this.employeeService.rolesToBackend.next(this.permissions)}click(){this.subEmployee||this.clickedReset||(this.reset(),this.clickedReset=!0),this.openUp=!this.openUp,console.log(this.arrayOfPermissions)}remove(i){let o=this.permissions.get(i);o!=null&&(o.added=!1,this.permissions.delete(i))}reset(){console.log("---------------Reset all----------------"),this.arrayOfPermissions.forEach(i=>i.added=!1),console.log(this.arrayOfPermissions),this.permissions.clear()}};c.\u0275fac=function(o){return new(o||c)(u(w))},c.\u0275cmp=A({type:c,selectors:[["app-permission-set"]],standalone:!0,features:[be,B],decls:11,vars:4,consts:[[1,"holder"],["class","node",4,"ngFor","ngForOf"],[1,"node"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256",3,"click"],["d","M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm42.83-110.83a4,4,0,0,1,0,5.66l-40,40a4,4,0,0,1-5.66,0l-40-40a4,4,0,0,1,5.66-5.66L128,146.34l37.17-37.17A4,4,0,0,1,170.83,109.17Z"],[1,"permission-set"],[1,"cancel"],["d","M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"],[1,"set-permission"],[1,"desc"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z","opacity","0.2"],["d","M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"],[3,"click"]],template:function(o,a){o&1&&(t(0,"section",0),h(1,Ye,14,1,"div",1),ee(2,"keyvalue"),t(3,"div",2)(4,"div"),x(),t(5,"svg",3),_("click",function(){return a.click()}),g(6,"path",4),e(),h(7,Qe,4,0,"div",5),e(),y(),t(8,"div")(9,"p"),n(10,"Click above to add permissions"),e()()()()),o&2&&(s(),X("ngForOf",te(2,2,a.permissions)),s(6),b(a.openUp?7:-1))},dependencies:[$,ne,ie],styles:[".holder[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;row-gap:2rem;column-gap:1rem;margin-top:3rem;margin-bottom:2rem;min-width:10rem}.node[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;border:1px solid black;padding:1rem;min-width:19rem;max-width:19rem}.node[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer}.permission-set[_ngcontent-%COMP%]{position:relative}.set-permission[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.6rem;margin-bottom:1rem;text-transform:capitalize}.permission-set[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.4rem;font-weight:600;flex-direction:column;gap:1rem;list-style:none;position:absolute;background-color:#fff;box-shadow:0 0 .8rem #0003;min-width:15rem}.permission-set[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.6rem 4rem;transition:all .33s;text-transform:capitalize}.permission-set[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .permission-set[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active{cursor:pointer;color:#fff;background-color:#212529;padding:.8rem 3rem}.cancel[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:red}.cancel[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{cursor:pointer}.desc[_ngcontent-%COMP%]{display:flex;flex-direction:row}.desc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:3rem;width:3rem;margin-left:.2rem}"]});let r=c;return r})();var ue=class{constructor(c=0,l=0,i=0,o=0,a="",m="",f="",P="",S=0,U=0,G="",fe=null){this.empId=c,this.reportsTo=l,this.branchId=i,this.empDetailsId=o,this.phone_number=a,this.full_name=m,this.email=f,this.dateOfBirth=P,this.salary=S,this.salaryAccount=U,this.branchName=G,this.rolesName=fe}};var R=(()=>{let c=class c{constructor(i){this.userRefresh=i}checkIfEmployeeDataAvailable(){let i=JSON.parse(localStorage.getItem("employeeData"));i!=null&&(this.userRefresh.logInDetected.next(!0),this.userRefresh.employeeIsLoggedIn.next(!0)),console.log("------------------------------",i),this.userRefresh.employeeData.next(new ue(i?.empId,i?.reportsTo,i?.branchId,i?.empDetailsId,i?.phone_number,i?.full_name,i?.email,i?.dateOfBirth,i?.salary,i?.salaryAccount,i?.branchName,i?.rolesName))}};c.\u0275fac=function(o){return new(o||c)(Q(L))},c.\u0275prov=W({token:c,factory:c.\u0275fac,providedIn:"root"});let r=c;return r})();var Xe=(r,c)=>c.roleName,et=(r,c)=>c.empId;function tt(r,c){if(r&1&&(t(0,"button")(1,"div"),n(2),e()()),r&2){let l=p();s(2),d(l.employeeData==null?null:l.employeeData.reportsTo)}}function nt(r,c){if(r&1&&(t(0,"div"),n(1),e()),r&2){let l=p();s(),d(l.employeeData==null?null:l.employeeData.reportsTo)}}function it(r,c){if(r&1&&(t(0,"button")(1,"div"),n(2),e()()),r&2){let l=p();s(2),d(l.employeeData==null?null:l.employeeData.branchId)}}function ot(r,c){if(r&1&&(t(0,"div"),n(1),e()),r&2){let l=p();s(),d(l.employeeData==null?null:l.employeeData.branchId)}}function at(r,c){r&1&&n(0,", ")}function rt(r,c){if(r&1&&(t(0,"span"),n(1),h(2,at,1,0),e()),r&2){let l=c.$implicit,i=c.$index,o=c.$count;s(),d(l.roleName.slice(5)),s(),b(i!==o-1?2:-1)}}function lt(r,c){if(r&1&&(t(0,"div",31),n(1),e()),r&2){let l=c.$implicit;s(),M(" ",l.roleName.slice(5)," ")}}function ct(r,c){if(r&1){let l=O();t(0,"tr")(1,"td"),n(2),e(),t(3,"td")(4,"button",16),_("click",function(){let o=C(l).$implicit,a=p(2);return v(a.personId(o.empId))}),n(5),e()(),t(6,"td"),n(7),e(),t(8,"td"),n(9),e(),t(10,"td"),E(11,lt,2,1,"div",31,D),e(),t(13,"td"),n(14),e()()}if(r&2){let l=c.$implicit;s(2),d(l.empId),s(3),M(" ",l.full_name," "),s(2),d(l.phone_number),s(2),d(l.branchName),s(2),k(l.rolesName),s(3),d(l.salary)}}function st(r,c){if(r&1&&(t(0,"div",17)(1,"form")(2,"div")(3,"label",18),n(4,"Find by Phone or Email"),e(),g(5,"input",19),e(),t(6,"div")(7,"label",20),n(8,"Branch"),e(),g(9,"input",21),e(),t(10,"div",22)(11,"button"),n(12,"Look up"),e()()(),t(13,"div",23)(14,"span"),n(15,"count "),e(),t(16,"span",24),n(17,"55"),e()()(),t(18,"div",25)(19,"table")(20,"tr",26)(21,"th"),n(22,"Employee-Id"),e(),t(23,"th"),n(24,"Name & click for details"),e(),t(25,"th"),n(26,"Phone Number"),e(),t(27,"th"),n(28,"Branch"),e(),t(29,"th"),n(30,"Permission set"),e(),t(31,"th"),n(32,"Salary"),e()(),E(33,ct,15,5,"tr",null,et),e(),t(35,"div",27),x(),t(36,"svg",6),g(37,"path",28),e(),y(),t(38,"span"),n(39,"1"),e(),t(40,"span"),n(41,"2"),e(),t(42,"span"),n(43,"3"),e(),t(44,"div",29),n(45,"..."),e(),t(46,"span"),n(47,"10"),e(),x(),t(48,"svg",6),g(49,"path",30),e()()()),r&2){let l=p();s(33),k(l.subEmployees)}}var Vt=(()=>{let c=class c{constructor(i,o,a,m,f,P,S){this.navBarGoldService=i,this.userDataRefreshUpDate=o,this.employeeService=a,this.bankService=m,this.route=f,this._location=P,this.urlRoute=S,this.employeeData=null,this.subEmployees=null,this.employeeUnder=!1,console.log("selectedEmployee"),this.navBarGoldService.resetAll(),this.navBarGoldService.empManagement.next(!0),this.userDataRefreshUpDate.checkIfEmployeeDataAvailable();let U=localStorage.getItem("selectedEmployee");console.log("Local storage is "+U),U==null?(console.log("Null entry point"),this.employeeService.employeeById.subscribe(G=>{console.log(G),G!=null&&localStorage.setItem("selectedEmployee",JSON.stringify(G)),this.employeeData=JSON.parse(localStorage.getItem("selectedEmployee"))})):this.employeeData=JSON.parse(localStorage.getItem("selectedEmployee")),console.log("Indi emp is"),console.log(this.employeeData),this.listOutAllSubEmployees(),window.scrollTo(0,0)}ngOnDestroy(){location.reload()}goBack(){this._location.back()}listOutAllSubEmployees(){this.employeeUnder=!this.employeeUnder,this.bankService.bankBranchViewData.next(null),this.employeeData?this.employeeService.getEmployeesUnderEmployee(this.employeeData.empId).subscribe({next:i=>{this.navBarGoldService.empManagement.next(!0),this.subEmployees=i.body,this.employeeService.rolesFromBackend.next(null),this.employeeService.rolesToBeRemovedFromBackend.next(null),this.employeeService.authViewActive.next(!0),console.log("Sub EMP id is"+this.employeeData?.empId),this.employeeService.employeeSelected.next(this.employeeData?.empId),this.employeeService.employeeById.next(this.employeeData);let o=this.employeeData?.rolesName;o&&this.employeeService.rolesToBeRemovedFromBackend.next(o),this.employeeService.employeeById.subscribe(a=>{console.log(a),a!=null&&localStorage.setItem("selectedEmployee",JSON.stringify(a)),this.employeeData=JSON.parse(localStorage.getItem("selectedEmployee"))})},error:i=>console.log(i,"while getting an employee by id from backend")}):console.log("No employee set yet"),console.log("click"),console.log(this.subEmployees)}personId(i){console.log(i),this.employeeService.getEmployeeById(i),this.employeeService.employeeById.subscribe(o=>{console.log(o),this.employeeData=o}),this.listOutAllSubEmployees(),location.reload()}changeEmployeePermissionsSet(){this.employeeService.changeEmployeePermissions(this.employeeData?.empId).subscribe({next:i=>{console.log("Return Result");let o=i.body;o?.forEach(m=>{m.added=!0}),this.employeeService.rolesToBeRemovedFromBackend.next(o);let a=JSON.parse(localStorage.getItem("selectedEmployee"));this.employeeService.getEmployeeById(a.empId),this.listOutAllSubEmployees(),location.reload()},error:i=>console.log(i)})}openBranch(i){console.log(i),i?(localStorage.removeItem("selectedBank"),this.bankService.managerSubject.next(null),this.bankService.getBranchByBranchId(i).subscribe({next:o=>{localStorage.setItem("selectedBank",JSON.stringify(o.body)),this.route.navigate(["/employee-welcome/branch-edit-component"])},error:o=>console.log(o)})):alert("Not a valid Branch id")}refreshPermissions(){}};c.\u0275fac=function(o){return new(o||c)(u(V),u(R),u(w),u(F),u(N),u(Ce),u(oe))},c.\u0275cmp=A({type:c,selectors:[["app-sub-employees"]],standalone:!0,features:[B],decls:81,vars:12,consts:[["autoscroll","true",1,"ng-view"],[1,"container"],[1,"bank-application-heading"],[1,"open-up-section-common","sub-emp"],[1,"heading-ele"],[1,"back-button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"],[1,"sub-emp-details","grid--3-cols"],[1,"capitalize"],[1,"capitalize","reports-to",3,"click"],[1,"sapn-out"],[1,"container","lift"],[1,"open-up-section-common",3,"click"],["d","M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"],[1,"permission-set","container","prevent-select"],[3,"click"],[1,"applications-query"],["for","phone-or-email"],["type","text","id","phone-or-email","name",""],["for","branch"],["type","text","id","branch","name",""],[1,"button"],[1,"count"],[1,"num"],[1,"applications-data"],[1,"head","prevent-select"],[1,"next-bubble","prevent-select"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H102.49l21.75,21.76a6,6,0,1,1-8.48,8.48l-32-32a6,6,0,0,1,0-8.48l32-32a6,6,0,0,1,8.48,8.48L102.49,122H168A6,6,0,0,1,174,128Z"],[1,"three-dotes"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-94.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L153.51,134H88a6,6,0,0,1,0-12h65.51l-21.75-21.76a6,6,0,0,1,8.48-8.48Z"],[2,"text-transform","capitalize"]],template:function(o,a){o&1&&(g(0,"div",0),t(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),n(6,"Sub Employee View"),e(),t(7,"div",5),_("click",function(){return a.goBack()}),x(),t(8,"svg",6),g(9,"path",7),e(),y(),t(10,"span"),n(11,"go back"),e()()(),t(12,"div",8)(13,"div",9)(14,"h6"),n(15,"Name"),e(),t(16,"div"),n(17),e()(),t(18,"div",9)(19,"h6"),n(20,"Employee Id"),e(),t(21,"div"),n(22),e()(),t(23,"div",10),_("click",function(){return a.personId(a.employeeData==null?null:a.employeeData.reportsTo)}),t(24,"h6"),n(25,"Report's To"),e(),h(26,tt,3,1,"button")(27,nt,2,1,"div"),e(),t(28,"div",10),_("click",function(){return a.openBranch(a.employeeData==null?null:a.employeeData.branchId)}),t(29,"h6",9),n(30,"Branch Id"),e(),h(31,it,3,1,"button")(32,ot,2,1,"div"),e(),t(33,"div")(34,"h6"),n(35,"Branch Name"),e(),t(36,"div"),n(37),e()(),t(38,"div")(39,"h6",9),n(40,"Phone Number"),e(),t(41,"div"),n(42),e()(),t(43,"div")(44,"h6"),n(45,"Email"),e(),t(46,"div"),n(47),e()(),t(48,"div",9)(49,"h6"),n(50,"Date Of Birth"),e(),t(51,"div"),n(52),e()(),t(53,"div")(54,"h6",9),n(55,"Salary"),e(),t(56,"div"),n(57),e()(),g(58,"hr"),t(59,"div",11)(60,"h6",9),n(61,"roles"),e(),E(62,rt,3,2,"span",null,Xe),e()()(),t(64,"section",12)(65,"div",2)(66,"div",13),_("click",function(){return a.listOutAllSubEmployees()}),t(67,"h5"),n(68),e(),x(),t(69,"svg",6),g(70,"path",14),e()(),h(71,st,50,0),e()(),y(),g(72,"app-assigned-applications")(73,"app-bank-applications"),t(74,"div",15)(75,"h6",16),_("click",function(){return a.refreshPermissions()}),n(76),e(),t(77,"div",1),g(78,"app-permission-set"),t(79,"button",16),_("click",function(){return a.changeEmployeePermissionsSet()}),n(80,"Save"),e()()()()()),o&2&&(s(17),d(a.employeeData==null?null:a.employeeData.full_name),s(5),d(a.employeeData==null?null:a.employeeData.empId),s(4),b(a.employeeData!=null&&a.employeeData.reportsTo?26:27),s(5),b(a.employeeData!=null&&a.employeeData.branchId?31:32),s(6),d(a.employeeData==null?null:a.employeeData.branchName),s(5),d(a.employeeData==null?null:a.employeeData.phone_number),s(5),d(a.employeeData==null?null:a.employeeData.email),s(5),d(a.employeeData==null?null:a.employeeData.dateOfBirth),s(5),d(a.employeeData==null?null:a.employeeData.salary),s(5),k(a.employeeData==null?null:a.employeeData.rolesName),s(6),M("Employees Under - ",a.employeeData==null?null:a.employeeData.full_name,""),s(3),b(a.employeeUnder?-1:71),s(5),M(" ",a.employeeData==null?null:a.employeeData.full_name,"'s permission Set "))},dependencies:[pe,Z,Pe],styles:["section[_ngcontent-%COMP%]{margin-top:10rem;margin-bottom:2rem}.open-up-section-common[_ngcontent-%COMP%]{background-color:#5f3dc4;color:#f3f0ff;display:flex;align-items:center;padding:.4rem;gap:1rem;font-size:2.4rem;transition:all .33s;justify-content:space-between}.open-up-section-common[_ngcontent-%COMP%]:hover, .open-up-section-common[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#7048e8}.bank-application-heading[_ngcontent-%COMP%]{border:solid 1px #5f3dc4}.open-up-section-common[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:1rem}.open-up-section-common[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.4rem;fill:#f3f0ff}.applications-query[_ngcontent-%COMP%]{display:flex;margin-top:2rem;justify-content:center;gap:4rem}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:4rem}.button[_ngcontent-%COMP%]{align-self:flex-end}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background-color:#f3f0ff;font-size:1.4rem;color:#5f3dc4;font-weight:600;border:solid 1px #b197fc;transition:all .33s}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:pointer;border:solid 1px #f3f0ff}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.6rem;font-size:1.4rem;flex-direction:column}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem .6rem;font-size:1.6rem}.count[_ngcontent-%COMP%]{font-size:1.6rem;align-self:end}.count[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#5f3dc4;font-weight:600}.applications-data[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.2rem;display:flex;flex-direction:column}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;margin:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f3f0ff}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#5f3dc4;color:#e5dbff;font-size:1.4rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{padding:.6rem 2rem}.next-bubble[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-self:center;gap:.4rem;margin-bottom:1rem}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:50%;color:#5f3dc4;padding:1rem;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:active{cursor:pointer;color:#5f3dc4;background-color:#e5dbff;font-size:1.2rem}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.4rem;border-radius:50%;fill:#5f3dc4;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff;border-radius:50%;background-color:#5f3dc4}.three-dotes[_ngcontent-%COMP%]{align-self:center}.sub-emp-details[_ngcontent-%COMP%]{display:grid;gap:2.4rem;font-size:1.8rem;padding:2rem}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}.sub-emp-details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:.6rem;color:#d0bfff;font-size:1.6rem}.sub-emp[_ngcontent-%COMP%]   .heading-ele[_ngcontent-%COMP%]{margin-left:2rem}.sub-emp[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.2rem}.sub-emp[_ngcontent-%COMP%]{background-color:#5f3dc4}.sub-emp[_ngcontent-%COMP%]:hover, .sub-emp[_ngcontent-%COMP%]:active{cursor:auto;background-color:#5f3dc4}.back-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;color:#d0bfff;font-size:2rem;transition:all .33s}.back-button[_ngcontent-%COMP%]:hover{cursor:pointer;display:flex;align-items:center;gap:1rem;color:#fff;font-size:2rem}.lift[_ngcontent-%COMP%]{margin-top:2rem}.applications-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;border:0;color:#5f3dc4;background-image:linear-gradient(#e5dbff,#d0bfff);border-radius:25px;min-width:15rem;font-weight:600;text-transform:capitalize}.applications-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.applications-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-image:linear-gradient(#d0bfff,#e5dbff)}.sapn-out[_ngcontent-%COMP%]{text-transform:capitalize;grid-column:-4/-1}.sub-emp-details[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:1px solid #ffd700;grid-column:-4/-1}.permission-set[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.permission-set[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{background-color:#212529;text-transform:capitalize;padding:1rem 2rem;color:gold;font-size:2rem;transition:all .33s}.permission-set[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#343a40}.permission-set[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#212529;color:#fff;padding:1rem 2rem;transition:all .33s}.permission-set[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .permission-set[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#f1f3f5;color:#212529;padding:1rem 2rem}.reports-to[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem;font-weight:600;font-size:1.6rem;border-radius:5px;border:1px solid #5f3dc4;transition:all .33s}.reports-to[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:600;border:1px solid #fff}"]});let r=c;return r})();function mt(r,c){if(r&1&&(t(0,"div",21),n(1),e()),r&2){let l=c.$implicit;s(),M(" ",l.roleName.slice(5)," ")}}function dt(r,c){if(r&1){let l=O();t(0,"tr")(1,"td"),n(2),e(),t(3,"td")(4,"button",20),_("click",function(){let o=C(l),a=o.$implicit,m=o.$index,f=p();return v(f.personId(a.empId,m))}),n(5),e()(),t(6,"td"),n(7),e(),t(8,"td"),n(9),e(),t(10,"td"),E(11,mt,2,1,"div",21,D),e(),t(13,"td"),n(14),e()()}if(r&2){let l=c.$implicit;s(2),d(l.empId),s(3),M(" ",l.full_name," "),s(2),d(l.phone_number),s(2),d(l.branchName),s(2),k(l.rolesName),s(3),d(l.salary)}}var qt=(()=>{let c=class c{constructor(i,o,a,m,f,P){this.navBarGoldService=i,this.userService=o,this.userDataRefreshUpDate=a,this.employeeService=m,this.route=f,this.activatedRoute=P,this.allEmployeesCalledByAdmin=null,this.navBarGoldService.resetAll(),this.navBarGoldService.empManagement.next(!0),this.userDataRefreshUpDate.checkIfEmployeeDataAvailable(),this.employeeService.authViewActive.next(!1),this.allUsersDataRefresh()}personId(i,o){if(console.log(i),localStorage.removeItem("selectedEmployee"),this.allEmployeesCalledByAdmin!=null){this.employeeService.authViewActive.next(!0),console.log("Sub EMP id is"+i),this.employeeService.employeeSelected.next(i);let a=this.allEmployeesCalledByAdmin[o];this.employeeService.employeeById.next(a);let m=[];a.rolesName&&a.rolesName.forEach(f=>{m.push(f)}),this.employeeService.rolesToBeRemovedFromBackend.next(m)}else return;this.route.navigate(["/employee-welcome/emp-management/sub-employee",{EMPIndex:o,employeeId:i}],{relativeTo:this.activatedRoute})}allUsersDataRefresh(){this.employeeService.getAllEmployees().subscribe({next:i=>this.allEmployeesCalledByAdmin=i.body,error:i=>console.log(`all employees Data refresh error ${i}`)})}};c.\u0275fac=function(o){return new(o||c)(u(V),u(L),u(R),u(w),u(N),u(oe))},c.\u0275cmp=A({type:c,selectors:[["app-employee-management"]],standalone:!0,features:[B],decls:88,vars:0,consts:[[1,"container"],[1,"emp-heading"],[1,"sub-emp-details","grid--3-cols"],[1,"bank-application-heading"],[1,"open-up-section-common"],[1,"query-options"],["type","checkbox","name","Under","value","1"],[1,"dropdown"],[1,"dropdown-content"],[1,"button"],[1,"query-options","focus-option"],["type","text","name","branch"],["type","text","name","E name"],[1,"applications-data"],[1,"head","prevent-select"],[1,"next-bubble","prevent-select"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H102.49l21.75,21.76a6,6,0,1,1-8.48,8.48l-32-32a6,6,0,0,1,0-8.48l32-32a6,6,0,0,1,8.48,8.48L102.49,122H168A6,6,0,0,1,174,128Z"],[1,"three-dotes"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-94.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L153.51,134H88a6,6,0,0,1,0-12h65.51l-21.75-21.76a6,6,0,0,1,8.48-8.48Z"],[3,"click"],[2,"text-transform","capitalize"]],template:function(o,a){o&1&&(t(0,"section",0)(1,"div",1)(2,"h3"),n(3,"Employee Management console"),e()(),t(4,"div",2),g(5,"router-outlet"),e(),t(6,"div",3)(7,"div",4)(8,"h5"),n(9,"Common Search"),e(),t(10,"div",5)(11,"form"),g(12,"hr"),t(13,"div")(14,"h6"),n(15,"Under Me"),e(),t(16,"div"),g(17,"input",6),e()(),t(18,"div")(19,"h6"),n(20,"Under My Branch"),e(),t(21,"div"),g(22,"input",6),e()(),t(23,"div")(24,"div",7)(25,"button"),n(26,"Employee Designation"),e()(),t(27,"div",8)(28,"div"),n(29,"Admin"),e(),t(30,"div"),n(31,"Manager"),e(),t(32,"div"),n(33,"Clerk"),e(),t(34,"div"),n(35,"Employee"),e()()(),t(36,"button",9),n(37,"Query"),e()()()(),t(38,"div",4)(39,"h5"),n(40,"Focus Search"),e(),t(41,"div",10)(42,"form"),g(43,"hr"),t(44,"div")(45,"h6"),n(46,"Branch ID"),e(),t(47,"div"),g(48,"input",11),e()(),t(49,"div")(50,"h6"),n(51,"Employee ID"),e(),t(52,"div"),g(53,"input",12),e()(),t(54,"button",9),n(55,"Query"),e()()()(),t(56,"div",13)(57,"table")(58,"tr",14)(59,"th"),n(60,"Employee-Id"),e(),t(61,"th"),n(62,"Name & click for details"),e(),t(63,"th"),n(64,"Phone Number"),e(),t(65,"th"),n(66,"Branch"),e(),t(67,"th"),n(68,"Permission set"),e(),t(69,"th"),n(70,"Salary"),e()(),E(71,dt,15,5,"tr",null,D),e(),t(73,"div",15),x(),t(74,"svg",16),g(75,"path",17),e(),y(),t(76,"span"),n(77,"1"),e(),t(78,"span"),n(79,"2"),e(),t(80,"span"),n(81,"3"),e(),t(82,"div",18),n(83,"..."),e(),t(84,"span"),n(85,"10"),e(),x(),t(86,"svg",16),g(87,"path",19),e()()()()()),o&2&&(s(71),k(a.allEmployeesCalledByAdmin))},dependencies:[xe],styles:["section[_ngcontent-%COMP%]{margin-top:12rem}.emp-heading[_ngcontent-%COMP%]{margin-top:12rem;font-size:3rem;color:#5f3dc4;margin-bottom:5rem}section[_ngcontent-%COMP%]{margin-top:2rem}.open-up-section-common[_ngcontent-%COMP%]{background-color:#5f3dc4;color:#f3f0ff;display:flex;align-items:center;padding:.4rem;gap:1rem;font-size:2.4rem;transition:all .33s;padding:2rem}.bank-application-heading[_ngcontent-%COMP%]{border:solid 1px #5f3dc4;margin-bottom:2rem}.open-up-section-common[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:1rem;margin-right:2rem}.open-up-section-common[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.4rem;fill:#f3f0ff}.dropdown[_ngcontent-%COMP%]{display:inline-block;position:relative}.dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#5f3dc4;border:solid 1px #e5dbff;padding:1rem;font-size:1.4rem;font-weight:600;color:#e5dbff;transition:all .33s}.dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#7048e8;color:#fff;border:solid 1px #5f3dc4;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#5f3dc4;color:#e5dbff;font-size:1.4rem;padding:1rem;overflow:auto;box-shadow:0 8px 16px #0003}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:1rem}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover, .dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:active{background-color:#7048e8;cursor:pointer}.focus-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:.6rem;padding:.4rem 1.4rem;font-size:1.4rem;background-color:#e5dbff;color:#5f3dc4;font-weight:600}.query-options[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:2rem}.button[_ngcontent-%COMP%]{align-self:flex-end;padding:.8rem 1.8rem;background-color:#f3f0ff;font-size:1.4rem;color:#5f3dc4;font-weight:600;border:solid 1px #b197fc;transition:all .33s}.button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]:active{cursor:pointer;border:solid 1px #f3f0ff}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.6rem;font-size:1.4rem;flex-direction:column}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem .6rem;font-size:1.6rem}.count[_ngcontent-%COMP%]{font-size:1.6rem;align-self:end}.count[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#5f3dc4;font-weight:600}.applications-data[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.4rem;display:flex;flex-direction:column}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;margin:1rem 2rem}.applications-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;border:0;color:#5f3dc4;background-image:linear-gradient(#e5dbff,#d0bfff);border-radius:25px;min-width:15rem;font-weight:600;text-transform:capitalize}.applications-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer}.applications-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-image:linear-gradient(#d0bfff,#e5dbff)}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f3f0ff}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#5f3dc4;color:#e5dbff;font-size:1.4rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{padding:.6rem 2rem}.next-bubble[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-self:center;gap:.4rem;margin-bottom:1rem}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:50%;color:#5f3dc4;padding:1rem;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:active{cursor:pointer;color:#5f3dc4;background-color:#e5dbff;font-size:1.2rem}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.4rem;border-radius:50%;fill:#5f3dc4;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff;border-radius:50%;background-color:#5f3dc4}.three-dotes[_ngcontent-%COMP%]{align-self:center}"]});let r=c;return r})();function gt(r,c){if(r&1){let l=O();t(0,"tr")(1,"button",14),_("click",function(){let o=C(l),a=o.$implicit,m=o.$index,f=p();return v(f.openBranch(a.branchId,m))}),n(2),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e(),t(7,"td"),n(8),e(),t(9,"td"),n(10),e(),t(11,"td"),n(12),e()()}if(r&2){let l=c.$implicit;s(2),M(" ",l.branchName," "),s(2),d(l.branchId),s(2),d(l.state),s(2),d(l.country),s(2),d(l.open),s(2),d(l.branchManagerId)}}function ut(r,c){if(r&1){let l=O();t(0,"section",13)(1,"div",3)(2,"div",15)(3,"h5"),n(4,"Create Branch"),e(),x(),t(5,"svg",5),g(6,"path",6),e()(),y(),t(7,"div",16)(8,"h3"),n(9,"Fill Up Branch Details"),e(),t(10,"form",17,0),_("ngSubmit",function(){C(l);let o=q(11),a=p();return v(a.createABranch(o))}),t(12,"div")(13,"label",18),n(14,"Branch Name"),e(),g(15,"input",19),e(),t(16,"div")(17,"label",20),n(18,"State"),e(),g(19,"input",21),e(),t(20,"div")(21,"label",22),n(22,"Country"),e(),g(23,"input",23),e(),t(24,"div")(25,"label",24),n(26,"Closed"),e(),g(27,"input",25),e(),t(28,"div",26)(29,"button",27),n(30,"Create Branch"),e()()()()()()}}var tn=(()=>{let c=class c{constructor(i,o,a,m,f,P){this.navBarGoldService=i,this.userDataRefreshUpDate=o,this.bankService=a,this.employeeService=m,this.employeePermissionService=f,this.router=P,this.allBankNames=null,this.currentUserIsAdmin=!1,this.navBarGoldService.resetAll(),this.navBarGoldService.bankManagement.next(!0),o.checkIfEmployeeDataAvailable(),this.employeePermissionService.isAdminSub.pipe(he(S=>S?(this.currentUserIsAdmin=!0,this.bankService.getAllBankBranches()):(console.log("Is Manager"),this.currentUserIsAdmin=!1,this.bankService.getEmployeesCurrentBankAccount()))).subscribe({next:S=>{console.log("switch map observable is"),console.log(S.body),this.allBankNames=S.body}})}getAllBranchesFrommDb(){this.bankService.getAllBankBranches().subscribe({next:i=>{console.log(i.body),this.allBankNames=i.body},error:i=>{console.log(i)}})}listBranchRefresh(){console.log("Branch refreshing"),this.getAllBranchesFrommDb()}createABranch(i){let o=i.form.value;o.country=o.country.charAt(0).toUpperCase()+o.country.slice(1),o.state=o.state.charAt(0).toUpperCase()+o.state.slice(1),console.log(o.open),o.open==!0&&(o.open=!1),o.open===""&&(o.open=!0),console.log(o),this.bankService.creaateAbranch(o).subscribe({next:a=>{i.resetForm(),console.log(a)},error:a=>{console.log(a)}})}openBranch(i,o){console.log(i,o);let a=this.allBankNames==null?null:this.allBankNames[o];a!=null&&(localStorage.removeItem("selectedBank"),this.bankService.managerSubject.next(null),localStorage.setItem("selectedBank",JSON.stringify(a)),this.router.navigate(["/employee-welcome/branch-edit-component"]),console.log("findAllEmployeesUnderBranch"),this.bankService.findEmployeeById(a.branchManagerId),this.bankService.findAllEmployeesUnderBranch(a.branchId))}};c.\u0275fac=function(o){return new(o||c)(u(V),u(R),u(F),u(w),u(H),u(N))},c.\u0275cmp=A({type:c,selectors:[["app-branch-management"]],standalone:!0,features:[B],decls:43,vars:1,consts:[["f","ngForm"],[1,"container"],[1,"heding-baner"],[1,"bank-application-heading"],[1,"open-up-section-common",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"],[1,"applications-data"],[1,"head","prevent-select"],[1,"next-bubble","prevent-select"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H102.49l21.75,21.76a6,6,0,1,1-8.48,8.48l-32-32a6,6,0,0,1,0-8.48l32-32a6,6,0,0,1,8.48,8.48L102.49,122H168A6,6,0,0,1,174,128Z"],[1,"three-dotes"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-94.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L153.51,134H88a6,6,0,0,1,0-12h65.51l-21.75-21.76a6,6,0,0,1,8.48-8.48Z"],[1,"container","create-branch"],[1,"branch-listing-button",3,"click"],[1,"open-up-section-common"],[1,"branch-details"],[1,"grid--2-cols",3,"ngSubmit"],["for","branch-name"],["type","text","id","branch-name","name","branchName","ngModel",""],["for","state"],["type","text","id","state","name","state","ngModel",""],["for","country"],["type","text","id","country","name","country","ngModel",""],["for","open"],["type","checkbox","id","open","name","open","ngModel",""],[1,"branch-button"],[1,"button"]],template:function(o,a){o&1&&(t(0,"section",1)(1,"div",2)(2,"h2"),n(3,"Branch Management Console"),e()(),t(4,"div",3)(5,"div",4),_("click",function(){return a.listBranchRefresh()}),t(6,"h5"),n(7,"All Branches"),e(),x(),t(8,"svg",5),g(9,"path",6),e()(),y(),t(10,"div",7)(11,"table")(12,"tr",8)(13,"th"),n(14,"Branch Name"),e(),t(15,"th"),n(16,"Branch Id"),e(),t(17,"th"),n(18,"State"),e(),t(19,"th"),n(20,"Country"),e(),t(21,"th"),n(22,"Open"),e(),t(23,"th"),n(24,"Branch Manager Id"),e()(),E(25,gt,13,6,"tr",null,D),e(),t(27,"div",9),x(),t(28,"svg",5),g(29,"path",10),e(),y(),t(30,"span"),n(31,"1"),e(),t(32,"span"),n(33,"2"),e(),t(34,"span"),n(35,"3"),e(),t(36,"div",11),n(37,"..."),e(),t(38,"span"),n(39,"10"),e(),x(),t(40,"svg",5),g(41,"path",12),e()()()()(),h(42,ut,31,0,"section",13)),o&2&&(s(25),k(a.allBankNames),s(17),b(a.currentUserIsAdmin?42:-1))},dependencies:[de,me,ae,Me,re,le,se,ce],styles:["section[_ngcontent-%COMP%]{margin-top:10rem}.open-up-section-common[_ngcontent-%COMP%]{background-color:#087f5b;color:#e6fcf5;display:flex;align-items:center;padding:.4rem;gap:1rem;font-size:2.4rem;transition:all .33s}.open-up-section-common[_ngcontent-%COMP%]:hover, .open-up-section-common[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#0ca678}.bank-application-heading[_ngcontent-%COMP%]{border:solid 1px #087f5b;margin-bottom:2rem}.open-up-section-common[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:1rem}.open-up-section-common[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.4rem;fill:#e6fcf5}.applications-query[_ngcontent-%COMP%]{display:flex;margin-top:2rem;justify-content:center;gap:4rem}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:4rem}.button[_ngcontent-%COMP%]{align-self:flex-end}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background-color:#e6fcf5;font-size:1.4rem;color:#087f5b;font-weight:600;border:solid 1px #b197fc;transition:all .33s}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:pointer;border:solid 1px #e6fcf5}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.6rem;font-size:1.4rem;flex-direction:column}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem .6rem;font-size:1.6rem}.count[_ngcontent-%COMP%]{font-size:1.6rem;align-self:end}.count[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#087f5b;font-weight:600}.applications-data[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.2rem;display:flex;flex-direction:column}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;margin:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#e6fcf5}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#087f5b;color:#c3fae8;font-size:1.4rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{padding:.6rem 2rem}.next-bubble[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-self:center;gap:.4rem;margin-bottom:1rem}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:50%;color:#087f5b;padding:1rem;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:active{cursor:pointer;color:#087f5b;background-color:#e5dbff;font-size:1.2rem}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.4rem;border-radius:50%;fill:#087f5b;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff;border-radius:50%;background-color:#087f5b}.three-dotes[_ngcontent-%COMP%]{align-self:center}.heding-baner[_ngcontent-%COMP%]{font-size:3rem;color:#087f5b;margin-bottom:2rem}.create-branch[_ngcontent-%COMP%]{margin-top:3rem}.branch-details[_ngcontent-%COMP%]{padding:2rem}.branch-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;color:#087f5b;font-weight:600;margin-bottom:1rem}.branch-details[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:grid;padding:1rem 2rem}.branch-details[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.branch-details[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600;margin-top:2rem}.branch-details[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.4rem 1.4rem;font-size:1.6rem;color:#087f5b}.branch-button[_ngcontent-%COMP%]{margin-top:2rem;grid-column:1/3}.branch-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;border:solid 1px #c3fae8;background-color:#087f5b;color:#c3fae8;font-weight:600;align-self:center;transition:all .33s}.branch-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .branch-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border:solid 1px #099268;background-color:#099268;color:#fff;cursor:pointer}.branch-listing-button[_ngcontent-%COMP%]{background-image:linear-gradient(#37b24d,#2b8a3e);color:#ebfbee;font-size:1.2rem;margin:1rem;padding:.6rem;border-radius:5px;border:0;min-width:12rem;font-weight:600}.branch-listing-button[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.branch-listing-button[_ngcontent-%COMP%]:active{background-image:linear-gradient(#2b8a3e,#37b24d)}"]});let r=c;return r})();function _t(r,c){if(r&1){let l=O();t(0,"div",10)(1,"button",24),_("click",function(){C(l);let o=p();return v(o.remove(o.bankManager==null?null:o.bankManager.empId))}),n(2,"Remove Manager"),e()()}}function ft(r,c){if(r&1){let l=O();t(0,"div",11)(1,"h4"),n(2,"Add manager to branch"),e(),t(3,"form",12,1),_("ngSubmit",function(){C(l);let o=q(4),a=p();return v(a.addMangerToBranch(o))}),t(5,"div",13)(6,"label"),n(7," Manger Id"),e(),g(8,"input",25),e(),t(9,"button",15),n(10,"Add Manger To Branch"),e()()()}}function ht(r,c){if(r&1&&(t(0,"div"),n(1),e()),r&2){let l=c.$implicit;s(),d(l.roleName.slice(5))}}function bt(r,c){if(r&1){let l=O();t(0,"td")(1,"button",24),_("click",function(){C(l);let o=p().$implicit,a=p();return v(a.remove(o.value.empId))}),n(2,"Remove"),e()()}}function Ct(r,c){if(r&1){let l=O();t(0,"tr")(1,"td")(2,"button",26),_("click",function(){let o=C(l).$implicit,a=p();return v(a.jumpToEmployee(o.value.empId))}),n(3),e()(),t(4,"td"),n(5),e(),t(6,"td"),n(7),e(),t(8,"td"),E(9,ht,2,1,"div",null,D),e(),t(11,"td"),n(12),e(),h(13,bt,3,0,"td"),e()}if(r&2){let l=c.$implicit,i=p();s(3),M(" ",l.value.empId," "),s(2),d(l.value.full_name),s(2),d(l.value.phone_number),s(2),k(l.value.rolesName),s(3),d(l.value.salary),s(),b(l.value.empId!=(i.selectedBrach==null?null:i.selectedBrach.branchManagerId)||i.isAdmin?13:-1)}}var gn=(()=>{let c=class c{ngOnInit(){this.allEmployees.clear()}constructor(i,o,a,m,f,P){this.bankService=i,this.navBarGoldService=o,this.userDataRefreshUpDate=a,this.employeeService=m,this.employeePermissionService=f,this.router=P,this.selectedBrach=null,this.allEmployees=new Map,this.bankManager=null,this.isAdmin=!1,this.navBarGoldService.resetAll(),this.navBarGoldService.bankManagement.next(!0),this.userDataRefreshUpDate.checkIfEmployeeDataAvailable(),this.selectedBrach=JSON.parse(localStorage.getItem("selectedBank")),console.log(this.selectedBrach),this.bankService.findEmployeeById(this.selectedBrach.branchManagerId),this.bankService.findAllEmployeesUnderBranch(this.selectedBrach.branchId),this.bankService.allEmployeesUnderBranch.subscribe({next:S=>{S&&S.forEach((U,G,fe)=>this.allEmployees.set(U.empId,U))}}),this.employeeService.authViewActive.next(!1),this.bankService.bankBranchViewData.next(this.selectedBrach),this.bankService.managerSubject.subscribe({next:S=>{this.bankManager=S}}),console.log("All employees"),console.log(this.allEmployees),console.log(this.userDataRefreshUpDate),f.isAdminSub.subscribe(S=>{S?this.isAdmin=!0:this.isAdmin=!1})}remove(i){console.log("Removing employee "+i),i&&(i==this.bankManager?.empId?(console.log("Removing manager"),this.bankService.removeManagerFrommBranch(i).subscribe({next:o=>{console.log("REMOVE_MANAGER_FROM_BRANCH"),console.log(o.body),this.allEmployees.delete(i),this.bankService.managerSubject.next(null),this.bankManager==null;let a=JSON.parse(localStorage.getItem("selectedBank"));if(a==null)throw"Branch cant be null";a.branchManagerId=0,localStorage.setItem("selectedBank",JSON.stringify(a)),this.selectedBrach=JSON.parse(localStorage.getItem("selectedBank"))},error:o=>console.log(o)})):(console.log("Removing clerk"),this.isAdmin?this.bankService.removeAClerkFromABranch(i,this.selectedBrach?.branchId).subscribe({next:o=>{console.log("REMOVE_EMPLOYEE_FROM_BRANCH_Admin"),console.log(o.body),this.allEmployees.delete(i)},error:o=>console.log(o)}):this.bankService.mangerRemoveSubEmployee(i).subscribe({next:o=>{console.log(o),this.allEmployees.delete(i)},error:o=>console.log(o)})))}addMangerToBranch(i){let o=i.form.value;console.log(o),this.bankService.putManagerInBranch(o.manager,this.selectedBrach?.branchId).subscribe({next:a=>{console.log("REMOVE_MANAGER_FROM_BRANCH"),console.log(a.body),this.findBankBranchById(this.selectedBrach?.branchId),this.bankService.findEmployeeById(o.manager),this.bankService.findAllEmployeesUnderBranch(this.selectedBrach.branchId),i.resetForm()},error:a=>console.log(a)})}findBankBranchById(i){console.log("-----Getting branch-----"),this.bankService.getBranchByBranchId(i).subscribe({next:o=>{console.log("GET_EMPLOYEE_BY_UNDER_BRANCH"),console.log(o.body),localStorage.removeItem("selectedBank"),localStorage.setItem("selectedBank",JSON.stringify(o.body)),this.selectedBrach=JSON.parse(localStorage.getItem("selectedBank"))},error:o=>console.log(o)})}addClerkToBranch(i){let o=i.form.value;if(!o)return;let a=!1;try{a=this.checkIfManager(o.clerk)}catch(m){console.log(m);return}if(a){console.log("Manager not allowed here");return}this.isAdmin?(console.log("is Clerk"),this.bankService.addAClerkToABranch(o.clerk,this.selectedBrach?.branchId).subscribe({next:m=>{console.log(m.body),i.resetForm(),this.bankService.findAllEmployeesUnderBranch(this.selectedBrach.branchId)},error:m=>console.log(m)})):this.bankService.managerAddEmployee(o.clerk).subscribe({next:m=>{console.log(m.body),i.resetForm(),this.bankService.findAllEmployeesUnderBranch(this.selectedBrach.branchId)},error:m=>{}})}checkIfManager(i){if(!i)throw"Not a valid input";return i==this.bankManager?.empId}jumpToEmployee(i){console.log(i),localStorage.removeItem("selectedEmployee"),this.employeeService.authViewActive.next(!0),console.log("Sub EMP id is"+i),this.employeeService.employeeSelected.next(i);let o=this.employeeService.getEmployeeByIdWithSub(i).subscribe({next:a=>{let m=a.body;this.employeeService.employeeById.next(m);let f=[];m.rolesName&&m.rolesName.forEach(P=>{f.push(P)}),this.employeeService.rolesToBeRemovedFromBackend.next(f),location.reload()},error:a=>console.log(a,"while getting an employee by id from backend")});this.router.navigate(["/employee-welcome/emp-management/sub-employee",{employeeId:i}])}};c.\u0275fac=function(o){return new(o||c)(u(F),u(V),u(R),u(w),u(H),u(N))},c.\u0275cmp=A({type:c,selectors:[["app-branch-edit"]],standalone:!0,features:[B],decls:117,vars:16,consts:[["c","ngForm"],["f","ngForm"],[1,"container"],[1,"bank-application-heading"],[1,"open-up-section-common","sub-emp"],[1,"heading-ele"],[1,"back-button"],[1,"sub-emp-details","grid--3-cols"],[1,"branch-management-manager"],[1,"grid","grid--4-cols","manager-stuff","cutter"],[1,"manager-info"],[1,"add-manager"],[3,"ngSubmit"],[1,"manager-field"],["type","number","name","clerk","ngModel",""],[1,"add-manager-button"],[1,"applications-data"],[1,"head","prevent-select"],[4,"ngFor","ngForOf"],[1,"next-bubble","prevent-select"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H102.49l21.75,21.76a6,6,0,1,1-8.48,8.48l-32-32a6,6,0,0,1,0-8.48l32-32a6,6,0,0,1,8.48,8.48L102.49,122H168A6,6,0,0,1,174,128Z"],[1,"three-dotes"],["d","M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm44.24-94.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L153.51,134H88a6,6,0,0,1,0-12h65.51l-21.75-21.76a6,6,0,0,1,8.48-8.48Z"],[3,"click"],["type","number","name","manager","ngModel",""],[1,"employee-jump",3,"click"]],template:function(o,a){if(o&1){let m=O();t(0,"section",2),g(1,"section"),t(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2"),n(6,"Bank Branch View"),e(),t(7,"div",6),n(8,"go back"),e()(),t(9,"div",7)(10,"div")(11,"h6"),n(12,"Branch Name"),e(),t(13,"div"),n(14),e()(),t(15,"div")(16,"h6"),n(17,"Branch Id"),e(),t(18,"div"),n(19),e()(),t(20,"div")(21,"h6"),n(22,"State"),e(),t(23,"div"),n(24),e()(),t(25,"div")(26,"h6"),n(27,"Country"),e(),t(28,"div"),n(29),e()(),t(30,"div")(31,"h6"),n(32,"Branch Status"),e(),t(33,"div"),n(34),e()(),t(35,"div")(36,"h6"),n(37,"Branch Manager"),e(),t(38,"div"),n(39),e()()()(),t(40,"div",8)(41,"h4"),n(42,"Bank Manager"),e(),t(43,"div",9)(44,"div",10)(45,"h6"),n(46,"full name"),e(),t(47,"p"),n(48),e()(),t(49,"div",10)(50,"h6"),n(51,"phone_number"),e(),t(52,"p"),n(53),e()(),t(54,"div",10)(55,"h6"),n(56,"email"),e(),t(57,"p"),n(58),e()(),t(59,"div",10)(60,"h6"),n(61,"Date Of Birth"),e(),t(62,"p"),n(63),e()(),t(64,"div",10)(65,"h6"),n(66,"Salary"),e(),t(67,"p"),n(68),e()(),h(69,_t,3,0,"div",10),e(),h(70,ft,11,0,"div",11),t(71,"div",11)(72,"h4"),n(73,"Add Clerk to branch"),e(),t(74,"form",12,0),_("ngSubmit",function(){C(m);let P=q(75);return v(a.addClerkToBranch(P))}),t(76,"div",13)(77,"label"),n(78," Clerk Id"),e(),g(79,"input",14),e(),t(80,"button",15),n(81,"Add Clerk To Branch"),e()()()(),t(82,"div",16)(83,"h6"),n(84,"Employee under branch"),e(),t(85,"table")(86,"tr",17)(87,"th"),n(88,"Employee-Id"),e(),t(89,"th"),n(90,"Name & click for details"),e(),t(91,"th"),n(92,"Phone Number"),e(),t(93,"th"),n(94,"Permission set"),e(),t(95,"th"),n(96,"Salary"),e(),t(97,"th"),n(98,"Remove"),e()(),h(99,Ct,14,5,"tr",18),ee(100,"keyvalue"),e(),t(101,"div",19),x(),t(102,"svg",20),g(103,"path",21),e(),y(),t(104,"span"),n(105,"1"),e(),t(106,"span"),n(107,"2"),e(),t(108,"span"),n(109,"3"),e(),t(110,"div",22),n(111,"..."),e(),t(112,"span"),n(113,"10"),e(),x(),t(114,"svg",20),g(115,"path",23),e()()(),y(),g(116,"app-bank-applications"),e()()}o&2&&(s(14),d(a.selectedBrach==null?null:a.selectedBrach.branchName),s(5),d(a.selectedBrach==null?null:a.selectedBrach.branchId),s(5),d(a.selectedBrach==null?null:a.selectedBrach.state),s(5),d(a.selectedBrach==null?null:a.selectedBrach.country),s(5),d(a.selectedBrach==null?null:a.selectedBrach.open),s(5),d(a.selectedBrach==null?null:a.selectedBrach.branchManagerId),s(9),d(a.bankManager==null?null:a.bankManager.full_name),s(5),d(a.bankManager==null?null:a.bankManager.phone_number),s(5),d(a.bankManager==null?null:a.bankManager.email),s(5),d(a.bankManager==null?null:a.bankManager.dateOfBirth),s(5),d(a.bankManager==null?null:a.bankManager.salary),s(),b(a.isAdmin?69:-1),s(),b(a.isAdmin?70:-1),s(29),X("ngForOf",te(100,14,a.allEmployees)))},dependencies:[de,me,ae,Oe,re,le,se,ce,$,ne,ie,Z],styles:["section[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem}.container[_ngcontent-%COMP%]{margin-top:10rem}.open-up-section-common[_ngcontent-%COMP%]{background-color:#087f5b;color:#ebfbee;display:flex;align-items:center;justify-content:space-between;padding:.4rem;gap:1rem;font-size:2.4rem;transition:all .33s}.open-up-section-common[_ngcontent-%COMP%]:hover, .open-up-section-common[_ngcontent-%COMP%]:active{cursor:pointer;background-color:#2b8a3e}.bank-application-heading[_ngcontent-%COMP%]{border:solid 1px #087f5b}.open-up-section-common[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:1rem}.open-up-section-common[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:2.4rem;fill:#ebfbee}.applications-query[_ngcontent-%COMP%]{display:flex;margin-top:2rem;justify-content:center;gap:4rem}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;gap:4rem}.button[_ngcontent-%COMP%]{align-self:flex-end}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.8rem;background-color:#e6fcf5;font-size:1.4rem;color:#087f5b;font-weight:600;border:solid 1px #69db7c;transition:all .33s}.button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:pointer;border:solid 1px #e6fcf5}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:.6rem;font-size:1.4rem;flex-direction:column}.applications-query[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.8rem .6rem;font-size:1.6rem}.count[_ngcontent-%COMP%]{font-size:1.6rem;align-self:end}.count[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#087f5b;font-weight:600}.applications-data[_ngcontent-%COMP%]{margin-top:2rem;font-size:1.2rem;display:flex;flex-direction:column}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;text-align:center;margin:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 2rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#e6fcf5}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{background-color:#087f5b;color:#e6fcf5;font-size:1.4rem}.applications-data[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   th[_ngcontent-%COMP%]{padding:.6rem 2rem}.next-bubble[_ngcontent-%COMP%]{margin-top:1rem;display:flex;align-self:center;gap:.4rem;margin-bottom:1rem}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.2rem;border-radius:50%;color:#087f5b;padding:1rem;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:active{cursor:pointer;color:#087f5b;background-color:#e6fcf5;font-size:1.2rem}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:3.4rem;border-radius:50%;fill:#087f5b;transition:all .33s}.next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .next-bubble[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff;border-radius:50%;background-color:#087f5b}.three-dotes[_ngcontent-%COMP%]{align-self:center}.sub-emp-details[_ngcontent-%COMP%]{display:grid;gap:2rem;font-size:1.8rem;padding:2rem}.sub-emp-details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-bottom:.6rem;color:#b2f2bb;font-size:1.6rem}.sub-emp[_ngcontent-%COMP%]   .heading-ele[_ngcontent-%COMP%]{margin-left:2rem}.sub-emp[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.2rem}.sub-emp[_ngcontent-%COMP%]{background-color:#087f5b}.sub-emp[_ngcontent-%COMP%]:hover, .sub-emp[_ngcontent-%COMP%]:active{cursor:auto;background-color:#087f5b}.back-button[_ngcontent-%COMP%]{color:#e6fcf5;font-size:2rem}.branch-management-manager[_ngcontent-%COMP%]{background-color:#ebfbee}.branch-management-manager[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:1rem;font-size:2rem;color:#087f5b}button[_ngcontent-%COMP%]{padding:.8rem;border-radius:5px;background-image:linear-gradient(#f03e3e,#c92a2a);border:0;color:#fff}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:active{background-image:linear-gradient(#c92a2a,#f03e3e)}.manager-stuff[_ngcontent-%COMP%]{padding:2rem}.manager-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.4rem}.manager-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:2.4rem}.cutter[_ngcontent-%COMP%]{row-gap:2rem}.applications-data[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#087f5b;margin-top:1rem;margin-left:1rem;font-size:2rem}.add-manager[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.manager-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem}.manager-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;margin-bottom:1rem}.manager-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.4rem;font-size:1.4rem}.add-manager-button[_ngcontent-%COMP%]{background-image:linear-gradient(#37b24d,#2b8a3e);margin-bottom:2rem}.add-manager-button[_ngcontent-%COMP%]:hover{cursor:pointer}.add-manager-button[_ngcontent-%COMP%]:active{cursor:pointer;background-image:linear-gradient(#2b8a3e,#37b24d)}.employee-jump[_ngcontent-%COMP%], .employee-jump[_ngcontent-%COMP%]:hover{background-color:#364fc7;background-image:linear-gradient(#4263eb,#364fc7)}.employee-jump[_ngcontent-%COMP%]:active{background-color:#364fc7;background-image:linear-gradient(#364fc7,#4263eb)}"]});let r=c;return r})();var vt=(r,c)=>c.roleName;function xt(r,c){r&1&&n(0,",")}function Mt(r,c){if(r&1&&(t(0,"li"),n(1),h(2,xt,1,0),e()),r&2){let l=c.$implicit,i=c.$index,o=c.$count;s(),d(l.roleName.slice(5)),s(),b(i!==o-1?2:-1)}}var kn=(()=>{let c=class c{constructor(i,o,a,m,f,P){this.userService=i,this.userDataRefreshUpDate=o,this.navBarGoldService=a,this.employeeService=m,this.bankService=f,this.employeePermissionService=P,this.employeeDetails=null,console.log("Employee logged in"),this.runUserService(),this.navBarGoldService.resetAll(),this.navBarGoldService.inEmployeeHomeComponent.next(!0),this.employeeService.authViewActive.next(!1),this.userDataRefreshUpDate.checkIfEmployeeDataAvailable(),this.bankService.bankBranchViewData.next(null),this.employeePermissionService.checkUserAuth()}runUserService(){this.userService.employeeData.subscribe(i=>{this.employeeDetails=i})}};c.\u0275fac=function(o){return new(o||c)(u(L),u(R),u(V),u(w),u(F),u(H))},c.\u0275cmp=A({type:c,selectors:[["app-employee-logged-in"]],standalone:!0,features:[B],decls:37,vars:4,consts:[[1,"container"],[1,"grid","employee-welcome","grid-3-uneven-spacing"],[1,"basic-details","common-gap","grid--2-cols"],[1,"details"],[2,"margin-left","2rem"],[1,"profile"],[1,"edit-profile","common-gap"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","fill","#000000","viewBox","0 0 256 256"],["d","M228.25,63.07l-4.66-2.69a23.6,23.6,0,0,0,0-8.76l4.66-2.69a8,8,0,0,0-8-13.86l-4.67,2.7A23.92,23.92,0,0,0,208,33.38V28a8,8,0,0,0-16,0v5.38a23.92,23.92,0,0,0-7.58,4.39l-4.67-2.7a8,8,0,1,0-8,13.86l4.66,2.69a23.6,23.6,0,0,0,0,8.76l-4.66,2.69a8,8,0,0,0,4,14.93,7.92,7.92,0,0,0,4-1.07l4.67-2.7A23.92,23.92,0,0,0,192,78.62V84a8,8,0,0,0,16,0V78.62a23.92,23.92,0,0,0,7.58-4.39l4.67,2.7a7.92,7.92,0,0,0,4,1.07,8,8,0,0,0,4-14.93ZM200,64a8,8,0,1,1,8-8A8,8,0,0,1,200,64ZM128,76a44,44,0,1,1-44,44A44,44,0,0,1,128,76Zm102.56,34.68a103.92,103.92,0,1,1-85.24-85.24,8,8,0,0,1-2.64,15.78A88.07,88.07,0,0,0,40,128a87.62,87.62,0,0,0,22.24,58.41A79.71,79.71,0,0,1,84,165.1a4,4,0,0,1,4.83.32,59.81,59.81,0,0,0,78.27,0,4,4,0,0,1,4.84-.32,79.86,79.86,0,0,1,21.79,21.31A87.62,87.62,0,0,0,216,128a88.85,88.85,0,0,0-1.22-14.68,8,8,0,1,1,15.78-2.64Z"]],template:function(o,a){o&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6"),n(5,"Welcome:"),e(),t(6,"p"),n(7),e()(),t(8,"div",3)(9,"h6",4),n(10,"Employee Id:"),e(),t(11,"p"),n(12),e()(),t(13,"div",3)(14,"h6"),n(15,"Branch:"),e(),t(16,"p"),n(17),e()(),t(18,"div",3)(19,"h6",4),n(20,"Id:"),e(),t(21,"p"),n(22),e()(),t(23,"div",3)(24,"h6"),n(25,"Roles:"),e(),t(26,"ul"),E(27,Mt,3,2,"li",null,vt),e()()(),t(29,"div",5)(30,"div",6)(31,"h6"),n(32,"Edit Profile"),e(),x(),t(33,"svg",7),g(34,"path",8),e()()()()(),y(),g(35,"app-bank-applications")(36,"app-assigned-applications")),o&2&&(s(7),d(a.employeeDetails==null?null:a.employeeDetails.full_name),s(5),d(a.employeeDetails==null?null:a.employeeDetails.empId),s(5),d(a.employeeDetails==null?null:a.employeeDetails.branchName),s(5),d(a.employeeDetails==null?null:a.employeeDetails.branchId),s(5),k(a.employeeDetails==null?null:a.employeeDetails.rolesName))},dependencies:[Z,pe,$],styles:["section[_ngcontent-%COMP%]{margin-top:3rem}.employee-welcome[_ngcontent-%COMP%]{margin-top:9rem;border:solid 1px #5f3dc4}.grid-3-uneven-spacing[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}.common-gap[_ngcontent-%COMP%]{margin:1.6rem}.basic-details[_ngcontent-%COMP%]{display:grid;gap:1.4rem;font-size:1.7rem}.basic-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.2rem;color:#5f3dc4;font-weight:600}.basic-details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#868e96;font-size:1.6rem}.details[_ngcontent-%COMP%]{display:flex;gap:1.4rem;align-items:center;text-transform:capitalize}.details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:.6rem;flex-direction:row;font-weight:600;color:#5f3dc4}.details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.4rem}.profile[_ngcontent-%COMP%]{background-color:#5f3dc4;color:#f3f0ff}.edit-profile[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:2.4rem}.edit-profile[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:8rem;height:8rem;fill:#f3f0ff;transition:all .33s}.edit-profile[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover, .edit-profile[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:active{cursor:pointer;fill:#fff}"]});let r=c;return r})();export{ue as a,Pe as b,R as c,Vt as d,qt as e,tn as f,gn as g,kn as h};
